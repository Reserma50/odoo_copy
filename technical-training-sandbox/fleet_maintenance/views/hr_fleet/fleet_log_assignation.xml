<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- KANBAN DOCUMENT ATACHMET -->
    <record id="view_attachment_kanban_inherit_hr_v2" model="ir.ui.view">
        <field name="name">ir.attachment.kanban.inherit.hr.v2</field>
        <field name="model">ir.attachment</field>
        <field name="inherit_id" ref="mail.view_document_file_kanban"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                 <attribute name="js_class">hr_fleet_kanban_view</attribute>
             </xpath>
        </field>
    </record>
    <!-- main view for fleet-->
    <record id="fleet_vehicle_assignation_log_view_list_my" model="ir.ui.view">
        <field name="name">fleet.vehicle.assignation.log.view.tree.inherit.hr.fleet.edit</field>
        <field name="model">fleet.vehicle.assignation.log</field>
        <!-- <field name="mode">primary</field> -->
        <field name="inherit_id" ref="fleet.fleet_vehicle_assignation_log_view_list" />
        <field name="arch" type="xml">
            <field name="vehicle_id" position="attributes">
                <attribute name="optional">hide</attribute>
            </field>
            <field name="driver_id" position="after">
                <field name="driver_employee_id" widget="many2one_avatar"/>
            </field>
            <field name="date_end" position="after">
                <field string="Firmado" name="is_signed"/>
                <!-- <field name="image_front" optional="show" class="clickable"  attrs="{'action': 'open_record_form_view(record_id)'}"/> -->
                <field name="image_back" optional="show"/>
                <field name="image_right_side" optional="show"/>
                <field name="image_lefth_side" optional="show"/>
                <field name="image_fuel_level" optional="show"/>
                <!-- <field name="signature" string="Firmar" widget="signature"/> -->
                <field name="attachment_number" optional="show" />
                <button name="action_get_attachment_view" string="Adjuntos" type="object" icon="fa-paperclip"/>
                <button string="Editar Asignación" type="object" name="open_form_action" class="oe_highlight"/>
                
            </field>
            <xpath expr="//tree" position="attributes">
                <!-- Remove the 'editable' attribute from the inherited tree view -->
                <attribute name="editable"/>
            </xpath>
            
        </field>
    </record>

    <!-- NEW FORM ASSIGNATION LOG -->
    <record id="fleet_vehicle_assignation_log_view_form" model="ir.ui.view">
        <field name="name">fleet.vehicle.assignation.log.view.form</field>
        <field name="model">fleet.vehicle.assignation.log</field>
        <field name="arch" type="xml">
            <form string="Assignment Logs">
                <header>
                    <widget name="signature" string="Firmar" highlight="1" full_name="driver_id"/>
                </header>

                    <sheet>
                        <h2 class="mb-5">Editar Asignación de Vehículo</h2>
                        <group>
                            <group>
                                <field name="vehicle_id" />
                                <field name="driver_id" widget="many2one_avatar" string="Current Driver" />
                            </group>
                            <group>
                                <field name="date_start"/>
                                <field name="date_end"/>    
                            </group>
                            <notebook>
                                <page string="Imagenes">
                                    <group>
                                        <group>
                                            <field name="image_front" widget="image" optional="show" />
                                            <field name="image_back" widget="image" optional="show"/>
                                            <field name="image_fuel_level" widget="image" optional="show"/>
                                        </group>
                                        <group>
                                            <field name="image_right_side" widget="image" optional="show"/>
                                            <field name="image_lefth_side" widget="image" optional="show"/>
                                        </group>
                                    </group>
                                </page>
                            </notebook>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids"/>
                        <!-- <field name="activity_ids"/> -->
                        <field name="message_ids"/>
                    </div>
                


            </form>
        </field>
    </record>
    <!-- for employee cars -->
    <!-- <record id="fleet_vehicle_assignation_log_employee_view_list" model="ir.ui.view">
        <field name="name">fleet.vehicle.assignation.log.view.tree.inherit.hr.fleet.edit</field>
        <field name="model">fleet.vehicle.assignation.log</field> -->
        <!-- <field name="mode">primary</field> -->
        <!-- <field name="inherit_id" ref="fleet.fleet_vehicle_assignation_log_view_list" />
        <field name="arch" type="xml">
            <field name="driver_id" position="replace" />
            <field name="date_end" position="after">
                <field name="driver_id" string="Current Driver" optional="hide"/>
                <field name="attachment_number" optional="show" />
                <button name="action_get_attachment_view" string="Attachments" type="object" icon="fa-paperclip" /> -->
                
                <!-- <widget name="signature" string="Firmar" highlight="1" full_name="driver_id"/> -->
            <!-- </field>
        </field>
    </record> -->
</odoo>
